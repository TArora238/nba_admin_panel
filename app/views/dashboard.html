<!-- START widgets box-->
<div class="row" data-ng-controller="DashboardController as dash">
    <div class="col-lg-12">

    </div>
    <div class="col-lg-4 col-sm-4 col-xs-12 m-b-30 m-t-30">
       <!-- START widget-->
       <div class="panel widget bg-green">
          <div class="row row-table">
             <div class="col-xs-4 text-center bg-green-dark pv-lg">
                <em class="icon-people fa-3x"></em>
             </div>
             <div class="col-xs-8 pv-lg">
                <div class="h2 mt0">{{dash.dashboard.number_of_artists||0}}</div>
                <div class="text-uppercase">Total Verified Artists</div>
             </div>
          </div>
       </div>
    </div>
    <div class="col-lg-4 col-sm-4 col-xs-12 m-b-30 m-t-30">
       <!-- START widget-->
       <div class="panel widget bg-purple">
          <div class="row row-table">
             <div class="col-xs-4 text-center bg-purple-dark pv-lg">
                <em class="icon-people fa-3x"></em>
             </div>
             <div class="col-xs-8 pv-lg">
                <div class="h2 mt0">{{dash.dashboard.number_of_unverified_artists||0}}</div>
                <div class="text-uppercase">Total Unverified Artists</div>
             </div>
          </div>
       </div>
    </div>
   <div class="col-lg-4 col-sm-4 col-xs-12 m-b-30 m-t-30">
      <!-- START widget-->
      <div class="panel widget bg-primary">
         <div class="row row-table">
            <div class="col-xs-4 text-center bg-primary-dark pv-lg">
               <em class="icon-people fa-3x"></em>
            </div>
            <div class="col-xs-8 pv-lg">
               <div class="h2 mt0">{{dash.dashboard.number_of_users||0}}</div>
               <div class="text-uppercase">Total Customers</div>
            </div>
         </div>
      </div>
   </div>
    <div class="col-lg-4 col-sm-4 col-xs-12 m-b-30  m-t-30">
        <!-- START widget-->
        <div class="panel widget bg-warning">
            <div class="row row-table">
                <div class="col-xs-4 text-center bg-warning-dark pv-lg">
                    <em class="icon-people fa-3x"></em>
                </div>
                <div class="col-xs-8 pv-lg">
                    <div class="h2 mt0">{{dash.dashboard.number_of_bookings||0}}
                        <!-- <small>GB</small> -->
                    </div>
                    <div class="text-uppercase">Total Bookings Made</div>
                </div>
            </div>
        </div>
    </div>
   <div class="clearfix"></div>
   <div class="row">
       <div class="col-lg-6 col-xs-12 m-b-30 m-t-30" >
           <div class="panel panel-default" style="height:100%" id="table1">
               <div class="panel-heading">
                   <paneltool tool-collapse="tool-collapse" ></paneltool>
                   <div class="panel-title">Latest Bookings (Recent 5)</div>
               </div>
               <div class="panel-wrapper" style="height:calc(100% - 44px)" uib-collapse="table1">
                   <div class="panel-body" style="height:calc(100% - 61px)">
                       <div class="list-group-item"  ng-if="dash.dashboard.last_5_bookings_made.length==0">
                           No Bookings Yet
                       </div>
                       <div class="tableDiv" ng-if="dash.dashboard.last_5_bookings_made.length>0">
                           <div class="table-responsive">
                               <table id="datatable_last_5_bookings" class="table table-striped table-hover table-vmiddle" >
                                   <thead>
                                   <tr>
                                       <th class="normalTD">Customer</th>
                                       <th class="normalTD">Service</th>
                                       <th class="normalTD">Artist</th>
                                       <th class="normalTD">Start Time</th>
                                   </tr>
                                   </thead>
                                   <tbody>
                                   <tr ng-repeat="data in dash.dashboard.last_5_bookings_made">
                                       <td class="normalTD">{{data.booking_user_name}}<br>{{data.booking_user_mobile}}</td>
                                       <td class="normalTD">{{data.service_name}}<br>Price : {{data.service_price}}</td>
                                       <td class="normalTD" ng-if="data.artist_name">{{data.artist_name}}<br>{{data.artist_mobile}}</td>
                                       <td class="normalTD" ng-if="!data.artist_name">Not Accepted Yet</td>
                                       <td class="normalTD">{{data.local_start_time|date:'MM-dd-yyyy hh:mm a'}}</td>
                                   </tr>
                                   </tbody>
                               </table>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
       <div class="col-lg-6 col-xs-12 m-b-30 m-t-30" >
           <div class="panel panel-default" style="height:100%" id="table2">
               <div class="panel-heading">
                   <paneltool tool-collapse="tool-collapse" ></paneltool>
                   <div class="panel-title">Recently Ended Bookings (Recent 5)</div>
               </div>
               <div class="panel-wrapper" style="height:calc(100% - 44px)" uib-collapse="table2">
                   <div class="panel-body" style="height:calc(100% - 61px)">
                       <div class="list-group-item"  ng-if="dash.dashboard.recent_5_end_bookings.length==0">
                           No Bookings Yet
                       </div>
                       <div class="tableDiv" ng-if="dash.dashboard.recent_5_end_bookings.length>0">
                           <div class="table-responsive">
                               <table id="datatable_recent_end_bookings" class="table table-striped table-hover table-vmiddle" >
                                   <thead>
                                   <tr>
                                       <th class="normalTD">Customer</th>
                                       <th class="normalTD">Service</th>
                                       <th class="normalTD">Artist</th>
                                       <th class="normalTD">Start Time</th>
                                   </tr>
                                   </thead>
                                   <tbody>
                                   <tr ng-repeat="data in dash.dashboard.recent_5_end_bookings">
                                       <td class="normalTD">{{data.booking_user_name}}<br>{{data.booking_user_mobile}}</td>
                                       <td class="normalTD">{{data.service_name}}<br>Price : {{data.service_price}}</td>
                                       <td class="normalTD" ng-if="data.artist_name">{{data.artist_name}}<br>{{data.artist_mobile}}</td>
                                       <td class="normalTD" ng-if="!data.artist_name">Not Accepted Yet</td>
                                       <td class="normalTD">{{data.local_start_time|date:'MM-dd-yyyy hh:mm a'}}</td>
                                   </tr>
                                   </tbody>
                               </table>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>

   </div>
    <div class="clearfix"></div>
    <div class="row">
        <div class="col-lg-6 col-xs-12 m-b-30 m-t-30" >
            <div class="panel panel-default" style="height:100%" id="table3">
                <div class="panel-heading" >
                    <paneltool tool-collapse="tool-collapse"></paneltool>
                    <div class="panel-title">Upcoming Bookings (Next 5)</div>
                </div>
                <div class="panel-wrapper" style="height:calc(100% - 44px)" uib-collapse="table3">
                    <div class="panel-body" style="height:calc(100% - 61px)">
                        <div class="list-group-item"  ng-if="dash.dashboard.upcoming_5_bookings.length==0">
                            No Bookings Yet
                        </div>
                        <div class="tableDiv" ng-if="dash.dashboard.upcoming_5_bookings.length>0">
                            <div class="table-responsive">
                                <table id="datatable_upcoming_5_bookings" class="table table-striped table-hover table-vmiddle" >
                                    <thead>
                                    <tr>
                                        <th class="normalTD">Customer</th>
                                        <th class="normalTD">Service</th>
                                        <th class="normalTD">Artist</th>
                                        <th class="normalTD">Start Time</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="data in dash.dashboard.upcoming_5_bookings">
                                        <td class="normalTD">{{data.booking_user_name}}<br>{{data.booking_user_mobile}}</td>
                                        <td class="normalTD">{{data.service_name}}<br>Price : {{data.service_price}}</td>
                                        <td class="normalTD" ng-if="data.artist_name">{{data.artist_name}}<br>{{data.artist_mobile}}</td>
                                        <td class="normalTD" ng-if="!data.artist_name">Not Accepted Yet</td>
                                        <td class="normalTD">{{data.local_start_time|date:'MM-dd-yyyy hh:mm a'}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-xs-12 m-b-30 m-t-30" >
            <div class="panel panel-default" style="height:100%" id="table4">
                <div class="panel-heading">
                    <paneltool tool-collapse="tool-collapse" ></paneltool>
                    <div class="panel-title">Most Availed Services (Top 5)</div>
                </div>
                <div class="panel-wrapper" style="height:calc(100% - 44px)" uib-collapse="table4">
                    <div class="panel-body" style="height:calc(100% - 61px)">
                        <div class="list-group-item"  ng-if="dash.dashboard.most_availed_services.length==0">
                            No Service Availed Yet
                        </div>
                        <div class="tableDiv" ng-if="dash.dashboard.most_availed_services.length>0">
                            <div class="table-responsive">
                                <table id="datatable_most_availed_services" class="table table-striped table-hover table-vmiddle" >
                                    <thead>
                                    <tr>
                                        <th class="normalTD">Service ID</th>
                                        <th class="normalTD">Service</th>
                                        <th class="normalTD">Times Availed</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="data in dash.dashboard.most_availed_services">
                                        <td class="normalTD">{{data.service_id}}</td>
                                        <td class="normalTD">{{data.service_name}}</td>
                                        <td class="normalTD">{{data.times_availed}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="clearfix"></div>
    <div class="row">
        <div class="col-lg-6 col-xs-12 m-b-30 m-t-30" >
            <div class="panel panel-default" style="height:100%" id="table5">
                <div class="panel-heading">
                    <paneltool tool-collapse="tool-collapse" ></paneltool>
                    <div class="panel-title">Highest Rated Artist (Top 5)</div>
                </div>
                <div class="panel-wrapper" style="height:calc(100% - 44px)" uib-collapse="table5">
                    <div class="panel-body" style="height:calc(100% - 61px)">
                        <div class="list-group-item"  ng-if="dash.dashboard.highly_rated_artists.length==0">
                            No Artist Rated Yet
                        </div>
                        <div class="tableDiv" ng-if="dash.dashboard.highly_rated_artists.length>0">
                            <div class="table-responsive">
                                <table id="datatable_highly_rated_artists" class="table table-striped table-hover table-vmiddle" >
                                    <thead>
                                    <tr>
                                        <th class="normalTD">Artist ID</th>
                                        <th class="normalTD">Artist</th>
                                        <th class="normalTD">Image</th>
                                        <th class="normalTD">Paid to Artist</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="data in dash.dashboard.highly_rated_artists">
                                        <td class="normalTD">{{data.artist_id}}</td>
                                        <td class="normalTD">{{data.artist_name}}</td>
                                        <td class="normalTD text-center"><img ng-src="{{data.artist_image}}" style="width: 100px;"></td>
                                        <td class="normalTD">{{data.paid_to_artist}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-xs-12 m-b-30 m-t-30" >
            <div class="panel panel-default" style="height:100%" id="table6">
                <div class="panel-heading">
                    <paneltool tool-collapse="tool-collapse" ></paneltool>
                    <div class="panel-title">Most Paid Artists (Top 5)</div>
                </div>
                <div class="panel-wrapper" style="height:calc(100% - 44px)" uib-collapse="table6">
                    <div class="panel-body" style="height:calc(100% - 61px)">
                        <div class="list-group-item"  ng-if="dash.dashboard.most_paid_artists.length==0">
                            No Artist Paid Yet
                        </div>
                        <div class="tableDiv" ng-if="dash.dashboard.most_paid_artists.length>0">
                            <div class="table-responsive">
                                <table id="datatable_most_paid_artists" class="table table-striped table-hover table-vmiddle" >
                                    <thead>
                                    <tr>
                                        <th class="normalTD">Artist ID</th>
                                        <th class="normalTD">Artist</th>
                                        <th class="normalTD">Image</th>
                                        <th class="normalTD">Paid to Artist</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="data in dash.dashboard.most_paid_artists">
                                        <td class="normalTD">{{data.artist_id}}</td>
                                        <td class="normalTD">{{data.artist_name}}</td>
                                        <td class="normalTD text-center"><img ng-src="{{data.artist_image}}" style="width: 100px;"></td>
                                        <td class="normalTD">{{data.paid_to_artist}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
   <div class="col-lg-8 col-xs-12 m-b-30 m-t-30 hide">
         <div class="panel panel-default" >
            <div class="panel-heading">
            <div class="panel-title">Payment Schedule</div>
            </div>
            <div class="panel-wrapper">
               <div class="panel-body">
                  <!-- <flot dataset="dash.barData" options="dash.barOptions" height="235px"></flot> -->
                  <div class="calendar" ui-calendar="CalendarConfig.calendar" ng-model="dash.eventSources"></div>
               </div>
            </div>
         </div>
      </div>
      <div style="display:flex" class="hide">
        <div class="col-lg-4 col-xs-12 m-b-30 m-t-30" >
            <div class="panel panel-default" style="height:100%">
               <div class="panel-heading">
                 <div class="panel-title">Recent Payouts
                   <a class="btn btn-default btn-sm pull-right m-0" ng-if="dash.dashboard.payouts.length>0" ng-click="dash.viewPayouts(dash.dashboard.payouts)">View All Payouts</a>
                 </div>
               </div>
               <div class="panel-wrapper" style="height:calc(100% - 44px)">
                  <div class="panel-body" style="height:calc(100% - 61px)">
                    <div class="list-group mb0">
                     <div class="list-group-item" ng-repeat="data in dash.dashboard.payouts|limitTo:6">
                        <span class="label pull-right" style="text-transform:capitalize"pen,can,faile ng-class={'bg-green':data.status=="paid",'bg-warning-light':data.status=="in_transit"||data.status=="pending",'bg-danger':data.status=="canceled"||data.status=="failed"}>{{data.status|underscoreless}}</span>
                        $ {{data.amount|number:2}} &nbsp;&nbsp;:&nbsp;&nbsp; {{data.arrival_date|date:"MM-dd-yyyy"}}
                      </div>
                      <div class="list-group-item"  ng-if="dash.dashboard.payouts.length==0">
                        No Payouts Yet
                      </div>
                  </div>
                  </div>
                  <div class="panel-footer" style="display: table;width: 100%;" ng-if="dash.dashboard.payouts.length>6">
                    <a class="pull-right btn whiteBtn" ng-click="dash.viewPayouts(dash.dashboard.payouts)" ><i class="fa fa-caret-right"></i></a>
                  </div>
               </div>
            </div>
        </div>
        <div class="col-lg-8 col-xs-12 m-b-30 m-t-30" >
           <div class="panel panel-default" style="height:100%">
              <div class="panel-heading">
              <div class="panel-title">Upcoming Payments
                <a class="btn btn-default btn-sm pull-right m-0" ng-if="dash.dashboard.upcoming_payments.length>0" ng-click="dash.viewPayments(dash.dashboard.upcoming_payments)">View All Payments</a>
              </div>
              </div>
              <div class="panel-wrapper" style="height:calc(100% - 44px)">
                 <div class="panel-body" style="height:calc(100% - 61px)">
                   <div class="list-group-item"  ng-if="dash.dashboard.upcoming_payments.length==0">
                     No Payments Yet
                   </div>
                   <div class="tableDiv" ng-if="dash.dashboard.upcoming_payments.length>0">
                     <div class="table-responsive">
                       <table id="datatable_up_payments" class="table table-striped table-hover table-vmiddle" style="table-layout:fixed;">
                         <thead>
                           <tr>
                             <th class="normalTD">Patient Name</th>
                             <!-- <th class="normalTD">Enrollment Date</th> -->
                             <!-- <th class="normalTD">Amount Financed</th> -->
                             <th class="normalTD">Recurring Amount</th>
                             <th class="normalTD">Total Balance</th>
                             <th class="normalTD">Next Reccuring Date</th>
                           </tr>
                         </thead>
                         <tbody>
                           <tr ng-repeat="data in dash.dashboard.upcoming_payments|limitTo:5">
                             <td class="normalTD">{{data.patient_first_name}}&nbsp;{{data.patient_last_name}}</td>
                             <!-- <td class="normalTD">{{data.start_date|date:'MM-dd-yyyy'}}</td> -->
                             <!-- <td class="normalTD">$ {{data.financed_amount}}</td> -->
                             <td class="normalTD">$ {{data.recurring_amount|number:2}}</td>
                             <td class="normalTD">$ {{data.remaining_payments*data.recurring_amount|number:2}}</td>
                             <td class="normalTD">{{data.next_payment_date|date:'MM-dd-yyyy'}}</td>
                           </tr>
                         </tbody>
                       </table>
                     </div>
                   </div>
                 </div>
                 <div class="panel-footer" style="display: table;width: 100%;" ng-if="dash.dashboard.upcoming_payments.length>5">
                   <a class="pull-right btn whiteBtn" ng-click="dash.viewPayments(dash.dashboard.upcoming_payments)" ><i class="fa fa-caret-right"></i></a>
                 </div>
              </div>
           </div>
        </div>

    </div>

<style>.dataTables_length{display:none}</style>
</div>
